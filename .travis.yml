language: r
sudo: false
cache: packages
git:
  depth: false
apt_packages:
  - libpoppler-cpp-dev
  - libudunits2-dev
  - libgdal-dev
  - libgeos-dev
  - libproj-dev
script:
  - sudo apt-get install r-cran-devtools
  - R -e 'devtools::install_deps(dep = T)'
  - R -e 'devtools::install_version("mapview", version = "2.7.8")'
  - R CMD build .
  - R CMD check *tar.gz
notifications:
  email:
    recipients:
    - mbafs2012@gmail.com
    on_success: change
    on_failure: change
after_success:
    - Rscript -e 'covr::codecov()'
