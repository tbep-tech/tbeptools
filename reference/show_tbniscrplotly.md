# Creates a plotly object for TBNI score plots

Creates a plotly object for TBNI score plots

## Usage

``` r
show_tbniscrplotly(p, width = NULL, height = NULL)
```

## Arguments

- p:

  [`ggplot`](https://ggplot2.tidyverse.org/reference/ggplot.html) object
  as output from
  [`show_tbniscr`](https://tbep-tech.github.io/tbeptools/reference/show_tbniscr.md)
  or
  [`show_tbniscrall`](https://tbep-tech.github.io/tbeptools/reference/show_tbniscrall.md)

- width:

  numeric for width of the plot in pixels

- height:

  numeric for height of the plot in pixels

## Value

A [`plotly`](https://rdrr.io/pkg/plotly/man/plotly.html) data object

## Examples

``` r
tbniscr <- anlz_tbniscr(fimdata)
p <- show_tbniscrall(tbniscr)
show_tbniscrplotly(p)

{"x":{"data":[{"x":[null,null,null,null,null],"y":[null,32,32,null,null],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(204,50,49,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[null,null,null,null,null],"y":[32,46,46,32,32],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(233,195,24,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[null,null,null,null,null],"y":[46,null,null,46,46],"text":"","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(45,201,56,1)","hoveron":"fills","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2024,2024,2023,2022,2021,2020,2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008,2007,2006,2005,2004,2003,2002,2001,2000,1999,1998,1998],"y":[48.174950433812491,46.192337273030297,44.217869520888684,44.229008941917506,43.204367555768769,44.148572079700592,46.152576099067943,35.683114999086001,40.584732027839848,41.632627529473545,41.549822206241068,43.557168715487762,47.609344686978943,46.5018316384119,43.507500585323129,45.544100152872986,47.54256747670842,50.540419554927652,50.541400523731063,47.53002481033797,46.513396602793662,44.524343009674809,46.471601172555538,40.588221540118596,40.635566525640456,42.705107106621497,38.593263392446325,38.593263392446325,41.406736607553675,45.294892893378503,43.364433474359544,43.411778459881404,49.528398827444462,47.475656990325191,49.486603397206338,50.46997518966203,53.458599476268937,53.459580445072348,50.45743252329158,48.455899847127014,46.492499414676871,49.4981683615881,50.390655313021057,46.442831284512238,44.450177793758932,44.367372470526455,43.415267972160152,38.316885000913999,49.847423900932057,47.851427920299408,46.795632444231231,47.770991058082494,47.782130479111316,49.807662726969703,51.825049566187509,48.174950433812491],"text":["Year: 1998<br />TBNI_Score - seval: 48.17495<br />TBNI_Score + seval: 51.82505","Year: 1999<br />TBNI_Score - seval: 46.19234<br />TBNI_Score + seval: 49.80766","Year: 2000<br />TBNI_Score - seval: 44.21787<br />TBNI_Score + seval: 47.78213","Year: 2001<br />TBNI_Score - seval: 44.22901<br />TBNI_Score + seval: 47.77099","Year: 2002<br />TBNI_Score - seval: 43.20437<br />TBNI_Score + seval: 46.79563","Year: 2003<br />TBNI_Score - seval: 44.14857<br />TBNI_Score + seval: 47.85143","Year: 2004<br />TBNI_Score - seval: 46.15258<br />TBNI_Score + seval: 49.84742","Year: 2005<br />TBNI_Score - seval: 35.68311<br />TBNI_Score + seval: 38.31689","Year: 2006<br />TBNI_Score - seval: 40.58473<br />TBNI_Score + seval: 43.41527","Year: 2007<br />TBNI_Score - seval: 41.63263<br />TBNI_Score + seval: 44.36737","Year: 2008<br />TBNI_Score - seval: 41.54982<br />TBNI_Score + seval: 44.45018","Year: 2009<br />TBNI_Score - seval: 43.55717<br />TBNI_Score + seval: 46.44283","Year: 2010<br />TBNI_Score - seval: 47.60934<br />TBNI_Score + seval: 50.39066","Year: 2011<br />TBNI_Score - seval: 46.50183<br />TBNI_Score + seval: 49.49817","Year: 2012<br />TBNI_Score - seval: 43.50750<br />TBNI_Score + seval: 46.49250","Year: 2013<br />TBNI_Score - seval: 45.54410<br />TBNI_Score + seval: 48.45590","Year: 2014<br />TBNI_Score - seval: 47.54257<br />TBNI_Score + seval: 50.45743","Year: 2015<br />TBNI_Score - seval: 50.54042<br />TBNI_Score + seval: 53.45958","Year: 2016<br />TBNI_Score - seval: 50.54140<br />TBNI_Score + seval: 53.45860","Year: 2017<br />TBNI_Score - seval: 47.53002<br />TBNI_Score + seval: 50.46998","Year: 2018<br />TBNI_Score - seval: 46.51340<br />TBNI_Score + seval: 49.48660","Year: 2019<br />TBNI_Score - seval: 44.52434<br />TBNI_Score + seval: 47.47566","Year: 2020<br />TBNI_Score - seval: 46.47160<br />TBNI_Score + seval: 49.52840","Year: 2021<br />TBNI_Score - seval: 40.58822<br />TBNI_Score + seval: 43.41178","Year: 2022<br />TBNI_Score - seval: 40.63557<br />TBNI_Score + seval: 43.36443","Year: 2023<br />TBNI_Score - seval: 42.70511<br />TBNI_Score + seval: 45.29489","Year: 2024<br />TBNI_Score - seval: 38.59326<br />TBNI_Score + seval: 41.40674","Year: 2024<br />TBNI_Score - seval: 38.59326<br />TBNI_Score + seval: 41.40674","Year: 2024<br />TBNI_Score - seval: 38.59326<br />TBNI_Score + seval: 41.40674","Year: 2023<br />TBNI_Score - seval: 42.70511<br />TBNI_Score + seval: 45.29489","Year: 2022<br />TBNI_Score - seval: 40.63557<br />TBNI_Score + seval: 43.36443","Year: 2021<br />TBNI_Score - seval: 40.58822<br />TBNI_Score + seval: 43.41178","Year: 2020<br />TBNI_Score - seval: 46.47160<br />TBNI_Score + seval: 49.52840","Year: 2019<br />TBNI_Score - seval: 44.52434<br />TBNI_Score + seval: 47.47566","Year: 2018<br />TBNI_Score - seval: 46.51340<br />TBNI_Score + seval: 49.48660","Year: 2017<br />TBNI_Score - seval: 47.53002<br />TBNI_Score + seval: 50.46998","Year: 2016<br />TBNI_Score - seval: 50.54140<br />TBNI_Score + seval: 53.45860","Year: 2015<br />TBNI_Score - seval: 50.54042<br />TBNI_Score + seval: 53.45958","Year: 2014<br />TBNI_Score - seval: 47.54257<br />TBNI_Score + seval: 50.45743","Year: 2013<br />TBNI_Score - seval: 45.54410<br />TBNI_Score + seval: 48.45590","Year: 2012<br />TBNI_Score - seval: 43.50750<br />TBNI_Score + seval: 46.49250","Year: 2011<br />TBNI_Score - seval: 46.50183<br />TBNI_Score + seval: 49.49817","Year: 2010<br />TBNI_Score - seval: 47.60934<br />TBNI_Score + seval: 50.39066","Year: 2009<br />TBNI_Score - seval: 43.55717<br />TBNI_Score + seval: 46.44283","Year: 2008<br />TBNI_Score - seval: 41.54982<br />TBNI_Score + seval: 44.45018","Year: 2007<br />TBNI_Score - seval: 41.63263<br />TBNI_Score + seval: 44.36737","Year: 2006<br />TBNI_Score - seval: 40.58473<br />TBNI_Score + seval: 43.41527","Year: 2005<br />TBNI_Score - seval: 35.68311<br />TBNI_Score + seval: 38.31689","Year: 2004<br />TBNI_Score - seval: 46.15258<br />TBNI_Score + seval: 49.84742","Year: 2003<br />TBNI_Score - seval: 44.14857<br />TBNI_Score + seval: 47.85143","Year: 2002<br />TBNI_Score - seval: 43.20437<br />TBNI_Score + seval: 46.79563","Year: 2001<br />TBNI_Score - seval: 44.22901<br />TBNI_Score + seval: 47.77099","Year: 2000<br />TBNI_Score - seval: 44.21787<br />TBNI_Score + seval: 47.78213","Year: 1999<br />TBNI_Score - seval: 46.19234<br />TBNI_Score + seval: 49.80766","Year: 1998<br />TBNI_Score - seval: 48.17495<br />TBNI_Score + seval: 51.82505","Year: 1998<br />TBNI_Score - seval: 48.17495<br />TBNI_Score + seval: 51.82505"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(224,224,224,1)","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"y":[50,48,46,46,45,46,48,37,42,43,43,45,49,48,45,47,49,52,52,49,48,46,48,42,42,44,40],"text":["Year: 1998<br />TBNI_Score: 50","Year: 1999<br />TBNI_Score: 48","Year: 2000<br />TBNI_Score: 46","Year: 2001<br />TBNI_Score: 46","Year: 2002<br />TBNI_Score: 45","Year: 2003<br />TBNI_Score: 46","Year: 2004<br />TBNI_Score: 48","Year: 2005<br />TBNI_Score: 37","Year: 2006<br />TBNI_Score: 42","Year: 2007<br />TBNI_Score: 43","Year: 2008<br />TBNI_Score: 43","Year: 2009<br />TBNI_Score: 45","Year: 2010<br />TBNI_Score: 49","Year: 2011<br />TBNI_Score: 48","Year: 2012<br />TBNI_Score: 45","Year: 2013<br />TBNI_Score: 47","Year: 2014<br />TBNI_Score: 49","Year: 2015<br />TBNI_Score: 52","Year: 2016<br />TBNI_Score: 52","Year: 2017<br />TBNI_Score: 49","Year: 2018<br />TBNI_Score: 48","Year: 2019<br />TBNI_Score: 46","Year: 2020<br />TBNI_Score: 48","Year: 2021<br />TBNI_Score: 42","Year: 2022<br />TBNI_Score: 42","Year: 2023<br />TBNI_Score: 44","Year: 2024<br />TBNI_Score: 40"],"type":"scatter","mode":"lines","line":{"width":4.7244094488188981,"color":"rgba(0,0,0,1)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675],"y":[32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32],"text":"perc[1]: 32","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,1997.325,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675,2024.675],"y":[46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46],"text":"perc[2]: 46","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,1)","dash":"dot"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":23.305936073059364,"r":7.3059360730593621,"b":42.839352428393525,"l":41.511000415110004},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1997.325,2024.675],"tickmode":"array","ticktext":["1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"],"tickvals":[1998,1999,2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024],"categoryorder":"array","categoryarray":["1998","1999","2000","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","2021","2022","2023","2024"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-90,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":null,"family":null,"size":0}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[20.199999999999999,59.799999999999997],"tickmode":"array","ticktext":["22","26","30","34","38","42","46","50","54","58"],"tickvals":[22,26,30,34,38,42,46,50,54,58],"categoryorder":"array","categoryarray":["22","26","30","34","38","42","46","50","54","58"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":15.940224159402243},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":{"text":"TBNI average of bay segments","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"x":1,"y":0,"xanchor":"left","yanchor":"bottom"},"hovermode":"closest","barmode":"relative","shapes":[{"type":"rect","line":{"color":"rgba(0,0,0,0)"},"fillcolor":"rgba(204,50,49,1)","x0":1997.45,"x1":2024.55,"y0":0,"y1":32,"layer":"below"},{"type":"rect","line":{"color":"rgba(0,0,0,0)"},"fillcolor":"rgba(233,195,24,1)","x0":1997.45,"x1":2024.55,"y0":32,"y1":46,"layer":"below"},{"type":"rect","line":{"color":"rgba(0,0,0,0)"},"fillcolor":"rgba(45,201,56,1)","x0":1997.45,"x1":2024.55,"y0":46,"y1":100,"layer":"below"}]},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"toImageButtonOptions":{"format":"svg","filename":"myplot"}},"source":"A","attrs":{"206c42df1d8c":{"xmin":{},"xmax":{},"ymin":{},"ymax":{},"type":"scatter"},"206c2a45429f":{"xmin":{},"xmax":{},"ymin":{},"ymax":{}},"206c6dab0945":{"xmin":{},"xmax":{},"ymin":{},"ymax":{}},"206c567bb5f1":{"x":{},"ymin":{},"ymax":{}},"206c7d480c9b":{"x":{},"y":{}},"206c3054576b":{"yintercept":{}},"206c3dbf32bd":{"yintercept":{}}},"cur_data":"206c42df1d8c","visdat":{"206c42df1d8c":["function (y) ","x"],"206c2a45429f":["function (y) ","x"],"206c6dab0945":["function (y) ","x"],"206c567bb5f1":["function (y) ","x"],"206c7d480c9b":["function (y) ","x"],"206c3054576b":["function (y) ","x"],"206c3dbf32bd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}
```
